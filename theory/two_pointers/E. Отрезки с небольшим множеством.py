'''
Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ½Ğ° Ñ‚ĞµÑÑ‚ 1 ÑĞµĞºÑƒĞ½Ğ´Ğ°
Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ½Ğ° Ñ‚ĞµÑÑ‚ 1024 Ğ¼ĞµĞ³Ğ°Ğ±Ğ°Ğ¹Ñ‚Ğ°
Ğ”Ğ°Ğ½ Ğ¼Ğ°ÑÑĞ¸Ğ² Ğ¸Ğ· ğ‘› Ñ‡Ğ¸ÑĞµĞ» ğ‘ğ‘–. Ğ¡ĞºĞ°Ğ¶ĞµĞ¼, Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‚Ñ€ĞµĞ·Ğ¾Ğº ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° ğ‘[ğ‘™..ğ‘Ÿ] (1â‰¤ğ‘™â‰¤ğ‘Ÿâ‰¤ğ‘›) Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹, ĞµÑĞ»Ğ¸ Ğ½Ğ° ÑÑ‚Ğ¾Ğ¼ Ğ¾Ñ‚Ñ€ĞµĞ·ĞºĞµ Ğ½Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ ğ‘˜
Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ». Ğ’Ğ°ÑˆĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ñ‡Ğ¸ÑĞ»Ğ¾ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ñ… Ğ¾Ñ‚Ñ€ĞµĞ·ĞºĞ¾Ğ².

Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
ĞŸĞµÑ€Ğ²Ğ°Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ†ĞµĞ»Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ° ğ‘› Ğ¸ ğ‘˜ (1â‰¤ğ‘›â‰¤105, 0â‰¤ğ‘˜â‰¤ğ‘›). Ğ’Ñ‚Ğ¾Ñ€Ğ°Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ‡Ğ¸ÑĞ»Ğ° ğ‘ğ‘– (1â‰¤ğ‘ğ‘–â‰¤105).

Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
Ğ’Ñ‹Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¾Ğ´Ğ½Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ¾ â€” Ñ‡Ğ¸ÑĞ»Ğ¾ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ñ… Ğ¾Ñ‚Ñ€ĞµĞ·ĞºĞ¾Ğ².

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€
Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
7 3
2 6 4 3 6 8 3
Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
20
'''

n, k = map(int, input().split())
a = list(map(int, input().split()))

my_dict = {}
l = 0
ans = 0
cnt = 0
for r in range(n):
    if a[r] in my_dict:
        my_dict[a[r]] += 1
    else:
        my_dict[a[r]] = 1
    if my_dict[a[r]] == 1:
        cnt += 1
    while cnt > k and l <= r:
        my_dict[a[l]] -= 1
        if my_dict[a[l]] == 0:
            cnt -= 1
            del my_dict[a[l]]
        l += 1
    ans += r - l + 1
print(ans)

