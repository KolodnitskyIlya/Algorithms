'''
ะพะณัะฐะฝะธัะตะฝะธะต ะฟะพ ะฒัะตะผะตะฝะธ ะฝะฐ ัะตัั 2 ัะตะบัะฝะดั
ะพะณัะฐะฝะธัะตะฝะธะต ะฟะพ ะฟะฐะผััะธ ะฝะฐ ัะตัั 256 ะผะตะณะฐะฑะฐะนั
ะะฐะฝะฐ ัััะพะบะฐ ๐, ัะพััะพััะฐั ะธะท ๐ ัััะพัะฝัั ะปะฐัะธะฝัะบะธั ะฑัะบะฒ.

ะััะฑะพัััั ัััะพะบะธ ๐ก ะดะปะธะฝั ๐ ะฝะฐะทะพะฒะตะผ ะบะพะปะธัะตััะฒะพ ะฟะฐั ัะตะปัั ัะธัะตะป (๐,๐), ะณะดะต 1โค๐<๐โค๐, ะดะปั ะบะพัะพััั ๐ก๐= ยซaยป ะธ ๐ก๐= ยซbยป. ะะฝัะผะธ
ัะปะพะฒะฐะผะธ, ะณััะฑะพััั ัััะพะบะธ โ ััะพ ะบะพะปะธัะตััะฒะพ ัะฟะพัะพะฑะพะฒ ะฒััะตัะบะฝััั ะฒัะต ะตะต ัะธะผะฒะพะปั, ะบัะพะผะต ะดะฒัั, ัะฐะบ, ััะพะฑั ะพััะฐะปะฐัั ัััะพะบะฐ
ยซabยป.

ะะฐัะฐ ะทะฐะดะฐัะฐ โ ะฝะฐะนัะธ ะฟะพะดัััะพะบั ๐๐๐๐+1โฆ๐๐, ะณััะฑะพััั ะบะพัะพัะพะน ะฝะต ะฟัะตะฒััะฐะตั ๐, ะผะฐะบัะธะผะฐะปัะฝะพะน ะดะปะธะฝั.

ะัะพะดะฝัะต ะดะฐะฝะฝัะต
ะะตัะฒะฐั ัััะพะบะฐ ะฒัะพะดะฝัั ะดะฐะฝะฝัั ัะพะดะตัะถะธั ะดะฒะฐ ัะตะปัั ัะธัะปะฐ ๐ ะธ ๐ (1โค๐โค106, 0โค๐โค1018).

ะัะพัะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ัััะพะบั ๐. ะกััะพะบะฐ ัะพััะพะธั ะธะท ๐ ัััะพัะฝัั ะปะฐัะธะฝัะบะธั ะฑัะบะฒ.

ะััะพะดะฝัะต ะดะฐะฝะฝัะต
ะัะฒะตะดะธัะต ะตะดะธะฝััะฒะตะฝะฝะพะต ัะธัะปะพ โ ะผะฐะบัะธะผะฐะปัะฝัั ะดะปะธะฝั ะฟะพะดัััะพะบะธ ัััะพะบะธ, ะบะพัะพัะฐั ะธะผะตะตั ะณััะฑะพััั ะฝะต ะฑะพะปะตะต ๐.

ะัะธะผะตัั
ะฒัะพะดะฝัะต ะดะฐะฝะฝัะต
3 1
aab
ะฒััะพะดะฝัะต ะดะฐะฝะฝัะต
2
ะฒัะพะดะฝัะต ะดะฐะฝะฝัะต
6 2
aabcbb
ะฒััะพะดะฝัะต ะดะฐะฝะฝัะต
4
'''

n, k = map(int, input().split())
s = input()

cntb = 0
cnta = 0

l = 0
grubost = 0
ans = 0

for r in range(n):
    if s[r] == 'a':
        cnta += 1
    elif s[r] == 'b':
        cntb += 1
        grubost += cnta

    while grubost > k:
        if s[l] == 'a':
            grubost -= cntb
            cnta -= 1
        elif s[l] == 'b':
            cntb -= 1
        l += 1
    ans = max(ans, r - l + 1)
print(ans)

